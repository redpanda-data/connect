= otlp_grpc
:type: input
:status: stable
:categories: ["Network","Services"]



////
     THIS FILE IS AUTOGENERATED!

     To make changes, edit the corresponding source file under:

     https://github.com/redpanda-data/connect/tree/main/internal/impl/<provider>.

     And:

     https://github.com/redpanda-data/connect/tree/main/cmd/tools/docs_gen/templates/plugin.adoc.tmpl
////

// Â© 2024 Redpanda Data Inc.


component_type_dropdown::[]


Receive OpenTelemetry traces, logs, and metrics via OTLP/gRPC protocol.

Introduced in version 4.78.0.


[tabs]
======
Common::
+
--

```yml
# Common config fields, showing default values
input:
  label: ""
  otlp_grpc:
    encoding: json
    address: 0.0.0.0:4317
    rate_limit: ""
```

--
Advanced::
+
--

```yml
# All config fields, showing default values
input:
  label: ""
  otlp_grpc:
    encoding: json
    address: 0.0.0.0:4317
    tls:
      enabled: false
      cert_file: ""
      key_file: ""
    auth_token: ""
    max_recv_msg_size: 4194304
    rate_limit: ""
    tcp:
      reuse_addr: false
      reuse_port: false
```

--
======

Exposes an OpenTelemetry Collector gRPC receiver that accepts traces, logs, and metrics via gRPC.

Telemetry data is received in OTLP protobuf format and converted to individual Redpanda OTEL v1 messages.
Each signal (span, log record, or metric) becomes a separate message with embedded Resource and Scope metadata.

## Protocols

This input supports OTLP/gRPC on the default port 4317 using the standard OTLP protobuf format for all signal types (traces, logs, metrics).

## Output Format

Each OTLP export request is unbatched into individual messages:
- **Traces**: One message per span
- **Logs**: One message per log record
- **Metrics**: One message per metric

Messages are encoded in Redpanda OTEL v1 format (protobuf or JSON, configurable via `encoding` field).

Each message includes the following metadata:
- `signalType`: The signal type - "trace", "log", or "metric"
- `encoding` : The message encoding - "json" or "protobuf"

## Authentication

When `auth_token` is configured, clients must include the token in the gRPC metadata:

**Go Client Example:**
```go
import (
    "go.opentelemetry.io/otel/exporters/otlp/otlptrace/otlptracegrpc"
)

exporter, err := otlptracegrpc.New(ctx,
    otlptracegrpc.WithEndpoint("localhost:4317"),
    otlptracegrpc.WithInsecure(), // or WithTLSCredentials() for TLS
    otlptracegrpc.WithHeaders(map[string]string{
        "authorization": "Bearer your-token-here",
    }),
)
```

**Environment Variable:**
```bash
export OTEL_EXPORTER_OTLP_HEADERS="authorization=Bearer your-token-here"
```

## Rate Limiting

An optional rate limit resource can be specified to throttle incoming requests. When the rate limit is breached, requests will receive a ResourceExhausted gRPC status code.


== Fields

=== `encoding`

Encoding format for messages in the batch. Options: 'protobuf' or 'json'.


*Type*: `string`

*Default*: `"json"`

Options:
`protobuf`
, `json`
.

=== `address`

The address to listen on for gRPC connections.


*Type*: `string`

*Default*: `"0.0.0.0:4317"`

=== `tls`

TLS configuration for gRPC.


*Type*: `object`


=== `tls.enabled`

Enable TLS connections.


*Type*: `bool`

*Default*: `false`

=== `tls.cert_file`

Path to the TLS certificate file.


*Type*: `string`

*Default*: `""`

=== `tls.key_file`

Path to the TLS key file.


*Type*: `string`

*Default*: `""`

=== `auth_token`

Optional bearer token for authentication. When set, requests must include 'authorization: Bearer <token>' metadata.
[CAUTION]
====
This field contains sensitive information that usually shouldn't be added to a config directly, read our xref:configuration:secrets.adoc[secrets page for more info].
====



*Type*: `string`

*Default*: `""`

=== `max_recv_msg_size`

Maximum size of gRPC messages to receive in bytes.


*Type*: `int`

*Default*: `4194304`

=== `rate_limit`

An optional rate limit resource to throttle requests.


*Type*: `string`

*Default*: `""`

=== `tcp`

TCP listener socket configuration.


*Type*: `object`


=== `tcp.reuse_addr`

Enable SO_REUSEADDR, allowing binding to ports in TIME_WAIT state. Useful for graceful restarts and config reloads where the server needs to rebind to the same port immediately after shutdown.


*Type*: `bool`

*Default*: `false`

=== `tcp.reuse_port`

Enable SO_REUSEPORT, allowing multiple sockets to bind to the same port for load balancing across multiple processes/threads.


*Type*: `bool`

*Default*: `false`


