= gcp_spanner_cdc
:type: input
:status: beta
:categories: ["Services","GCP"]



////
     THIS FILE IS AUTOGENERATED!

     To make changes, edit the corresponding source file under:

     https://github.com/redpanda-data/connect/tree/main/internal/impl/<provider>.

     And:

     https://github.com/redpanda-data/connect/tree/main/cmd/tools/docs_gen/templates/plugin.adoc.tmpl
////

// Â© 2024 Redpanda Data Inc.


component_type_dropdown::[]


Creates an input that consumes from a spanner change stream.

Introduced in version TODO.

```yml
# Config fields, showing default values
input:
  label: ""
  gcp_spanner_cdc:
    project_id: "" # No default (required)
    instance_id: "" # No default (required)
    database_id: "" # No default (required)
    stream_id: "" # No default (required)
    start_timestamp: ""
    end_timestamp: ""
    heartbeat_interval: 10s
    auto_replay_nacks: true
```

Consumes change records from a Google Cloud Spanner change stream. This input allows
you to track and process database changes in real-time, making it useful for data
replication, event-driven architectures, and maintaining derived data stores.

The input reads from a specified change stream within a Spanner database and converts
each change record into a message. The message payload contains the change records in
JSON format, and metadata is added with details about the Spanner instance, database,
and stream.

Change streams provide a way to track mutations to your Spanner database tables. For
more information about Spanner change streams, refer to the Google Cloud documentation:
https://cloud.google.com/spanner/docs/change-streams


== Fields

=== `project_id`

GCP project ID containing the Spanner instance


*Type*: `string`


=== `instance_id`

Spanner instance ID


*Type*: `string`


=== `database_id`

Spanner database ID


*Type*: `string`


=== `stream_id`

The name of the change stream to track


*Type*: `string`


=== `start_timestamp`

RFC3339 formatted timestamp to start reading from (default: current time)


*Type*: `string`

*Default*: `""`

=== `end_timestamp`

RFC3339 formatted timestamp to stop reading at (default: no end time)


*Type*: `string`

*Default*: `""`

=== `heartbeat_interval`

Duration string for heartbeat interval (e.g., '10s')


*Type*: `string`

*Default*: `"10s"`

=== `auto_replay_nacks`

Whether messages that are rejected (nacked) at the output level should be automatically replayed indefinitely, eventually resulting in back pressure if the cause of the rejections is persistent. If set to `false` these messages will instead be deleted. Disabling auto replays can greatly improve memory efficiency of high throughput streams as the original shape of the data can be discarded immediately upon consumption and mutation.


*Type*: `bool`

*Default*: `true`


