= otlp_http
:type: input
:status: stable
:categories: ["Network","Services"]



////
     THIS FILE IS AUTOGENERATED!

     To make changes, edit the corresponding source file under:

     https://github.com/redpanda-data/connect/tree/main/internal/impl/<provider>.

     And:

     https://github.com/redpanda-data/connect/tree/main/cmd/tools/docs_gen/templates/plugin.adoc.tmpl
////

// Â© 2024 Redpanda Data Inc.


component_type_dropdown::[]


Receive OpenTelemetry traces, logs, and metrics via OTLP/HTTP protocol.

Introduced in version 4.78.0.


[tabs]
======
Common::
+
--

```yml
# Common config fields, showing default values
input:
  label: ""
  otlp_http:
    address: 0.0.0.0:4318
    rate_limit: ""
```

--
Advanced::
+
--

```yml
# All config fields, showing default values
input:
  label: ""
  otlp_http:
    address: 0.0.0.0:4318
    tls:
      enabled: false
      cert_file: ""
      key_file: ""
    read_timeout: 10s
    write_timeout: 10s
    max_body_size: 4194304
    rate_limit: ""
    tcp:
      reuse_addr: false
      reuse_port: false
```

--
======

Exposes an OpenTelemetry Collector HTTP receiver that accepts traces, logs, and metrics via HTTP.

Telemetry data is received in OTLP format (both protobuf and JSON) at standard OTLP endpoints and converted to individual Redpanda OTEL v1 protobuf messages. Each signal (span, log record, or metric) becomes a separate message with embedded Resource and Scope metadata, optimized for Kafka partitioning.

## Endpoints

- `/v1/traces` - OpenTelemetry traces
- `/v1/logs` - OpenTelemetry logs
- `/v1/metrics` - OpenTelemetry metrics

## Protocols

This input supports OTLP/HTTP on the default port 4318. It accepts both:
- `application/x-protobuf` - OTLP protobuf format
- `application/json` - OTLP JSON format

## Output Format

Each OTLP export request is unbatched into individual messages:
- **Traces**: One message per span
- **Logs**: One message per log record
- **Metrics**: One message per metric

Messages are encoded in Redpanda OTEL v1 protobuf format with metadata:
- `signalType`: "trace", "log", or "metric"

## Rate Limiting

An optional rate limit resource can be specified to throttle incoming requests. When the rate limit is breached, requests will receive a 429 (Too Many Requests) response.


== Fields

=== `address`

The address to listen on for HTTP connections.


*Type*: `string`

*Default*: `"0.0.0.0:4318"`

=== `tls`

TLS configuration for HTTP.


*Type*: `object`


=== `tls.enabled`

Enable TLS connections.


*Type*: `bool`

*Default*: `false`

=== `tls.cert_file`

Path to the TLS certificate file.


*Type*: `string`

*Default*: `""`

=== `tls.key_file`

Path to the TLS key file.


*Type*: `string`

*Default*: `""`

=== `read_timeout`

Maximum duration for reading the entire request.


*Type*: `string`

*Default*: `"10s"`

=== `write_timeout`

Maximum duration for writing the response.


*Type*: `string`

*Default*: `"10s"`

=== `max_body_size`

Maximum size of HTTP request body in bytes.


*Type*: `int`

*Default*: `4194304`

=== `rate_limit`

An optional rate limit resource to throttle requests.


*Type*: `string`

*Default*: `""`

=== `tcp`

TCP listener socket configuration.


*Type*: `object`


=== `tcp.reuse_addr`

Enable SO_REUSEADDR, allowing binding to ports in TIME_WAIT state. Useful for graceful restarts and config reloads where the server needs to rebind to the same port immediately after shutdown.


*Type*: `bool`

*Default*: `false`

=== `tcp.reuse_port`

Enable SO_REUSEPORT, allowing multiple sockets to bind to the same port for load balancing across multiple processes/threads.


*Type*: `bool`

*Default*: `false`


