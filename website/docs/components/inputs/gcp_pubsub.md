---
title: gcp_pubsub
type: input
status: stable
categories: ["Services","GCP"]
---

<!--
     THIS FILE IS AUTOGENERATED!

     To make changes please edit the contents of:
     lib/input/gcp_pubsub.go
-->

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

Consumes messages from a GCP Cloud Pub/Sub subscription.


<Tabs defaultValue="common" values={[
  { label: 'Common', value: 'common', },
  { label: 'Advanced', value: 'advanced', },
]}>

<TabItem value="common">

```yml
# Common config fields, showing default values
input:
  label: ""
  gcp_pubsub:
    project: ""
    subscription: ""
    sync: false
    max_outstanding_messages: 1000
    max_outstanding_bytes: 1000000000
```

</TabItem>
<TabItem value="advanced">

```yml
# All config fields, showing default values
input:
  label: ""
  gcp_pubsub:
    project: ""
    subscription: ""
    sync: false
    max_outstanding_messages: 1000
    max_outstanding_bytes: 1000000000
    create_subscription:
      enabled: false
      topic: ""
```

</TabItem>
</Tabs>

For information on how to set up credentials check out
[this guide](https://cloud.google.com/docs/authentication/production).

### Metadata

This input adds the following metadata fields to each message:

``` text
- gcp_pubsub_publish_time_unix
- All message attributes
```

You can access these metadata fields using
[function interpolation](/docs/configuration/interpolation#metadata).

## Fields

### `project`

The project ID of the target subscription.


Type: `string`  
Default: `""`  

### `subscription`

The target subscription ID.


Type: `string`  
Default: `""`  

### `sync`

Enable synchronous pull mode.


Type: `bool`  
Default: `false`  

### `max_outstanding_messages`

The maximum number of outstanding pending messages to be consumed at a given time.


Type: `int`  
Default: `1000`  

### `max_outstanding_bytes`

The maximum number of outstanding pending messages to be consumed measured in bytes.


Type: `int`  
Default: `1000000000`  

### `create_subscription`

Allows you to configure the input subscription and creates if it doesn't exist.


Type: `object`  

### `create_subscription.enabled`

Whether to configure subscription or not.


Type: `bool`  
Default: `false`  

### `create_subscription.topic`

Defines the topic that the subscription should be vinculated to.


Type: `string`  
Default: `""`  


