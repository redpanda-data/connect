= Templating
:description: Learn how templates work.


////
     THIS FILE IS AUTOGENERATED!

     To make changes please edit the contents of:
     https://github.com/redpanda-data/benthos/tree/main/internal/template/docs.adoc
////

[CAUTION]
====
Templates are an experimental feature and therefore subject to change outside of major version releases.
====

Templates are a way to define new {page-component-title} components (similar to plugins) that are implemented by generating a {page-component-title} config snippet from pre-defined parameter fields. This is useful when a common pattern of {page-component-title} configuration is used but with varying parameters each time.

A template is defined in a YAML file that can be imported when {page-component-title} runs using the flag `-t`:

[source,bash]
----
benthos -t "./templates/*.yaml" -c ./config.yaml
----

The template describes the type of the component and configuration fields that can be used to customize it, followed by a xref:guides:bloblang/about.adoc[Bloblang mapping] that translates an object containing those fields into a benthos config structure. This allows you to use logic to generate more complex configurations:

[tabs]
======
Template::
+
--

[source,yaml]
----
name: aws_sqs_list
type: input

fields:
  - name: urls
    type: string
    kind: list
  - name: region
    type: string
    default: us-east-1

mapping: |
  root.broker.inputs = this.urls.map_each(url -> {
    "aws_sqs": {
      "url": url,
      "region": this.region,
    }
  })
----
--
Config::
+
--

[source,yaml]
----
input:
  aws_sqs_list:
    urls:
      - https://sqs.us-east-2.amazonaws.com/123456789012/MyQueue1
      - https://sqs.us-east-2.amazonaws.com/123456789012/MyQueue2

pipeline:
  processors:
    - mapping: |
        root.id = uuid_v4()
        root.foo = this.inner.foo
        root.body = this.outer
----
--
Result::
+
--

[source,yaml]
----
input:
  broker:
    inputs:
      - aws_sqs:
          url: https://sqs.us-east-2.amazonaws.com/123456789012/MyQueue1
          region: us-east-1
      - aws_sqs:
          url: https://sqs.us-east-2.amazonaws.com/123456789012/MyQueue2
          region: us-east-1

pipeline:
  processors:
    - mapping: |
        root.id = uuid_v4()
        root.foo = this.inner.foo
        root.body = this.outer
----
--
======

You can see more examples of templates at https://github.com/benthosdev/benthos/tree/main/config/template_examples^.

== Fields

The schema of a template file is as follows:

{{template "field_docs" . -}}
