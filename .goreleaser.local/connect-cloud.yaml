---
project_name: redpanda-connect
version: 2
builds:
  - id: connect-cloud
    main: cmd/redpanda-connect-cloud/main.go
    binary: redpanda-connect-cloud
    goos: [ linux ]
    goarch: [ arm64 ]
    env:
      - CGO_ENABLED=0
    tags:
      - timetzdata
    ldflags: >
      -s -w
      -X main.Version={{.Version}}
      -X main.DateBuilt={{.Date}}
      -X main.BinaryName=redpanda-connect

dockers_v2:
  - id: connect-cloud
    dockerfile: resources/docker/cloud.Dockerfile
    ids:
      - connect-cloud
    images:
      - redpandadata/connect
    tags:
      - dev-cloud
    platforms:
      - linux/arm64
    extra_files:
      - config/docker.yaml

dist: target/dist
