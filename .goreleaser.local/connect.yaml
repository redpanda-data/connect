---
project_name: redpanda-connect
version: 2
builds:
  - id: connect
    main: cmd/redpanda-connect/main.go
    binary: redpanda-connect
    goos: [ linux ]
    goarch: [ arm64 ]
    env:
      - CGO_ENABLED=0
    tags:
      - timetzdata
    ldflags: >
      -s -w
      -X main.Version={{.Version}}
      -X main.DateBuilt={{.Date}}
      -X main.BinaryName=redpanda-connect

dockers_v2:
  - id: connect
    dockerfile: resources/docker/Dockerfile
    ids:
      - connect
    images:
      - redpandadata/connect
    tags:
      - dev
    platforms:
      - linux/arm64
    extra_files:
      - config/docker.yaml

dist: target/dist
